# Инструкция по установке и настройке системы автоматизации с антидетект браузерами

## Требования

1. PHP 7.4 или выше
2. MySQL 5.7 или выше
3. Composer
4. AdsPower и/или Dolphin Anty (установленные и настроенные)
5. ChromeDriver (соответствующий версии браузера)

## Шаги установки

### 1. Клонирование репозитория

```bash
git clone https://github.com/ohchillman/TestRepo.git
cd TestRepo
```

### 2. Установка зависимостей

```bash
composer install
```

### 3. Настройка базы данных

1. Создайте базу данных MySQL
2. Импортируйте структуру базы данных:

```bash
mysql -u username -p database_name < database.sql
mysql -u username -p database_name < database_update.sql
```

### 4. Настройка конфигурации

1. Откройте файл `config/config.php`
2. Настройте параметры подключения к базе данных:
   ```php
   'database' => [
       'host' => 'localhost',
       'dbname' => 'your_database_name',
       'username' => 'your_username',
       'password' => 'your_password',
       'charset' => 'utf8mb4',
   ],
   ```

3. Настройте параметры антидетект браузеров:
   
   **AdsPower**:
   ```php
   'adspower' => [
       'enabled' => true,
       'api_base_url' => 'http://local.adspower.net:50325/api/v1',
   ],
   ```
   
   **Dolphin Anty**:
   ```php
   'dolphin' => [
       'enabled' => true,
       'api_base_url' => 'http://localhost:3001/v1.0',
       'api_token' => 'your_api_token', // Заполните API токен из личного кабинета Dolphin
       'chromedriver_path' => '/path/to/chromedriver',
   ],
   ```

### 5. Настройка прав доступа

Убедитесь, что веб-сервер имеет права на запись в следующие директории:
- `logs/`
- `screenshots/`

```bash
chmod -R 755 logs/
chmod -R 755 screenshots/
```

### 6. Запуск веб-сервера

Для тестирования можно использовать встроенный веб-сервер PHP:

```bash
php -S localhost:8000 -t public/
```

## Использование системы

### Тестирование автоматизации

1. Откройте в браузере `http://localhost:8000/test_browser_automation.php`
2. Выберите профиль браузера
3. Выберите платформу (Twitter или LinkedIn)
4. Введите текст для публикации
5. Нажмите кнопку "Опубликовать"

### Настройка профилей браузеров

Перед использованием системы необходимо:

1. Создать профили в AdsPower или Dolphin Anty
2. Авторизоваться в социальных сетях в этих профилях
3. Добавить профили в систему через базу данных или API

## Устранение неполадок

### Проблемы с подключением к браузерам

1. Убедитесь, что AdsPower или Dolphin Anty запущены
2. Проверьте правильность настройки API URL и токенов
3. Проверьте логи в директории `logs/`

### Проблемы с авторизацией в социальных сетях

1. Убедитесь, что учетные данные указаны верно
2. Проверьте, что профиль браузера уже авторизован в социальной сети
3. Проверьте, нет ли капчи или других проверок безопасности

### Проблемы с публикацией контента

1. Проверьте логи для получения подробной информации об ошибках
2. Убедитесь, что контент соответствует требованиям платформы
3. Проверьте скриншоты ошибок в директории `screenshots/`
